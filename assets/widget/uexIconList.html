<!DOCTYPE HTML>
<html class="um landscape min-width-240px min-width-320px min-width-480px min-width-768px min-width-1024px">
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
   <meta charset="utf-8">
   <meta name="viewport"
    content="target-densitydpi=device-dpi, width=device-width, initial-scale=1, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
	
    <link rel="stylesheet" type="text/css" href="css/index.css">
	<link rel="stylesheet" type="text/css" href="css/index.css">
		
	<script type="text/javascript">

	function showOpenResult(opCode, dataType, data){
        alert(data);
    }
    
    function showJsonData(opCode, dataType, data){
        alert(data);
    }
    
    function showClose(opCode, dataType, data){
        alert("close");
    }
    
    function onDelClick(opCode, dataType, data){
       // alert("onDelClick:" + data);
        uexIconList.delIconItem(data);
        
       // uexIconList.getCurrentIconList();
      // reload2Line();
       
    //   uexIconList.refreshIconList();
     //  refreshIconList();
    }
    
    function cbRefreshIconList(opCode, dataType, data){
        alert("cbRefreshIconList:" + data);
        uexIconList.getCurrentIconList();
    }
    
    function cbGetCurrentIconList(opCode, dataType, data){
        alert("cbGetCurrentIconList:" + data);
    }
    
    function onLongPress(opCode, dataType, data){
        alert("onLongPress:" + data);
    }
    
    function cbAddIconItem(opCode, dataType, data){
        alert("cbAddIconItem:" + data);
    }
    
    function onTouchDown(opCode, dataType, data){
        //alert("onTouchDown:" + data);
       // appcan.window.disableBounce();
        
        
    }
    
    function onTouchUp(opCode, dataType, data){
       // appcan.window.enableBounce();
       // alert("onTouchUp:" + data);
    }

	window.uexOnload = function(type){
		if(type == 0){
		    uexWidget.onLoadByOtherApp = function(info)
            {
		        console.log("onLoadByOtherApp:" + info);
		        alert("onLoadByOtherApp:" + info);
            }
			uexIconList.cbOpen = showOpenResult;
            uexIconList.cbClickItem = showJsonData;
			uexIconList.cbClose = showClose;
			uexIconList.onDelClick = onDelClick;
			uexIconList.cbRefreshIconList = cbRefreshIconList;
            uexIconList.cbGetCurrentIconList = cbGetCurrentIconList;
            uexIconList.onLongPress = onLongPress;
            uexIconList.cbAddIconItem = cbAddIconItem;
            uexIconList.onTouchDown = onTouchDown;
            uexIconList.onTouchUp = onTouchUp;
            uexIconList.cbDelIconItemCompleted = function(opid, dataType, json){
             uexIconList.getCurrentIconList();
        }
            
            uexWindow.setBounce(1);
//            openIconList();
		}
	}
	
	function reload1Line()
	{
       var s = window.getComputedStyle(document.body, null);
       var w1 = parseInt(s.width);
       w1 = Math.round(w1);
       var h1 = parseInt(s.height);
       h1 = Math.round(h1 / 4);
        var x = document.getElementById("x").value;
        var y = document.getElementById("y").value;
        
        var params = {};
        params.x = x;
        params.y = y;
        params.w = w1;
        params.h = w1 * 0.32;
        params.line = 1;
        params.row = 4;
        params.backgroundColor = "#FEFEFE";
        params.titleTextColor = "#ff00ff";
        params.isShowIconFrame = true;
        params.iconFrameColor = "#00ff00";
        
        alert(JSON.stringify(params));
        uexIconList.resetFrame(JSON.stringify(params));
	}
	
	function reload2Line()
    {
       var s = window.getComputedStyle(document.body, null);
       var w1 = parseInt(s.width);
       w1 = Math.round(w1);
       var h1 = parseInt(s.height);
       h1 = Math.round(h1 / 4);
        var x = document.getElementById("x").value;
        var y = document.getElementById("y").value;
        
        var params = {};
        params.x = x;
        params.y = y;
        params.w = w1;
        params.h = w1 * 0.62;
        params.line = 2;
        params.row = 4;
        params.backgroundColor = "#FEFEFE";
        params.titleTextColor = "#9C9C9C";
        params.isShowIconFrame = true;
        params.iconFrameColor = "#00ff00";
        
        alert(JSON.stringify(params));
        uexIconList.resetFrame(JSON.stringify(params));
    }
	
	var iconListItems = 
        {
            "placeholderImg":"res://1Normal.png",
            "listItem":[
                     {
                     "iconId": "数据1车",
                     "image": "res://icon1.png",
                     "title": "数据1",
                     "isCanDel":"false"
                     },
                     {
                     "iconId": "测试图片2",
                     "image": "res://icon2.png",
                     "title": "测试图片2",
                     "isCanMove":"false"
                     },
                     {
                     "iconId": "测试图片3",
                     "image": "res://icon3.png",
                     "title": "测试图片3"
                     },
                     {
                     "iconId": "测试图片4",
                     "image": "res://icon4.png",
                     "title": "测试图片4"
                     },
                     {
                     "iconId": "数据9",
                     "image": "res://icon1.png",
                     "title": "数据9"
                     },
                     {
                     "iconId": "数据10",
                     "image": "res://icon2.png",
                     "title": "数据10"
                     },
                     {
                     "iconId": "数据11",
                     "image": "res://icon3.png",
                     "title": "数据11"
                     },
                     {
                     "iconId": "数据12",
                     "image": "res://icon4.png",
                     "title": "数据12"
                     },
                     {
                         "iconId": "测试图片5",
                         "image": "res://icon5.png",
                         "title": "测试图片5"
                     },
                     {
                         "iconId": "图标排序测试图片6",
                         "image": "res://icon6.png",
                         "title": "图标排序测试图片6"
                     },
                     {
                         "iconId": "图标排序测试图片7",
                         "image": "res://icon7.png",
                         "title": "图标排序测试图片7"
                     },
                     {
                     "iconId": "图片8",
                     "image": "res://icon8.png",
                     "title": "图片8"
                     },
                     {
                     "iconId": "数据13",
                     "image": "res://icon.png",
                     "title": "数据13"
                     },
                     {
                     "iconId": "数据14",
                     "image": "res://icon.png",
                     "title": "数据14"
                     },
                     {
                     "iconId": "数据15",
                     "image": "res://icon.png",
                     "title": "数据15"
                     },
                     {
                     "iconId": "数据16",
                     "image": "res://icon.png",
                     "title": "数据16"
                     }/*,
                     {
                     "iconId": "数据17",
                     "image": "res://icon.png",
                     "title": "数据17",
                     "isCanMove":"true"
                     }*/
                     ]};
	var iconListItems1 = 
	    {
	            "placeholderImg":"res://1Normal.png",
	            "listItem":[
	                        {
	                            "iconId": "数据1车",
	                            "image": "res://icon1.png",
	                            "title": "数据1",
	                            "isCanDel":"false"
	                        },
	                        {
	                            "iconId": "测试图片2",
	                            "image": "res://icon2.png",
	                            "title": "测试图片2",
	                            "isCanMove":"false"
	                        },
	                        {
	                            "iconId": "测试图片3",
	                            "image": "res://icon3.png",
	                            "title": "测试图片3"
	                        },
	                        {
	                            "iconId": "测试图片4",
	                            "image": "res://icon4.png",
	                            "title": "测试图片4"
	                        },
	                        {
	                            "iconId": "数据9",
	                            "image": "res://icon1.png",
	                            "title": "数据9"
	                        },
	                        {
	                            "iconId": "数据10",
	                            "image": "res://icon2.png",
	                            "title": "数据10"
	                        },
	                        {
	                            "iconId": "数据11",
	                            "image": "res://icon3.png",
	                            "title": "数据11"
	                        },
	                        {
	                            "iconId": "数据12",
	                            "image": "res://icon4.png",
	                            "title": "数据12"
	                        },
	                        {
	                            "iconId": "数据13",
	                            "image": "res://icon5.png",
	                            "title": "数据13"
	                        }
	                        ]};
	
	function openIconList1Line(){
	       // alert(window.devicePixelRatio);
	      //  alert(window.width / window.devicePixelRatio);
	       // alert(sysWidth / dpi);
	       var s = window.getComputedStyle(document.body, null);
	       var w1 = parseInt(s.width);
	       w1 = Math.round(w1);
	       var h1 = parseInt(s.height);
	       h1 = Math.round(h1 / 8);
	       
	        var dpi = window.devicePixelRatio;//获取屏幕分辨率
	        var option = {"is_follow_web_roll": "false"};
	        uexIconList.setOption(JSON.stringify(option));
	        var x = document.getElementById("x").value;
	        var y = document.getElementById("y").value;
	        var w = document.getElementById("w").value;
	        var h = document.getElementById("h").value;
	        var line = document.getElementById("line").value;
	        var row = document.getElementById("row").value;
	        
	        var params = {};
	        params.x = x;
	        params.y = y;
	        params.w = w1; 
	        params.h = w1 * 0.62 / 2;
	        params.line = 1;
	        params.row = row;
	        params.backgroundColor = "#FEFEFE";
	        params.titleTextColor = "#9C9C9C";
	        params.isShowIconFrame = true;
	        params.iconFrameColor = "#00ff00";
	        alert(JSON.stringify(params));
	        
	        /*var params = {
	            "x": 0,
	            "y": 100,
	            "w":350,
	            "h":400,
	            "line":2,
	            "row":4,
	            "backgroundColor":"#aabbcc"
	        };*/
	        
	        uexIconList.open(JSON.stringify(params),JSON.stringify(iconListItems));
	}
	
    function openIconList(){
       var s = window.getComputedStyle(document.body, null);
       var w1 = parseInt(s.width);
       w1 = Math.round(w1);
       var h1 = parseInt(s.height);
       h1 = Math.round(h1 / 4);
       
        var dpi = window.devicePixelRatio;//获取屏幕分辨率
	    var option = {"is_follow_web_roll": "true"};
        uexIconList.setOption(JSON.stringify(option));
		var x = document.getElementById("x").value;
		var y = document.getElementById("y").value;
		var w = document.getElementById("w").value;
		var h = document.getElementById("h").value;
		var line = document.getElementById("line").value;
		var row = document.getElementById("row").value;
		
		var params = {};
        params.x = x;
        params.y = y;
        params.w = w1; 
        params.h = w1 * 0.62;
        params.line = line;
        params.row = row;
        params.backgroundColor = "#FEFEFE";
        params.titleTextColor = "#9C9C9C";
        params.isShowIconFrame = true;
        params.iconFrameColor = "#00ff00";
        params.iconScale = 0.45;
        
		uexIconList.open(JSON.stringify(params),JSON.stringify(iconListItems1));
    }
    
    function openIconListNoFrame(){
        var s = window.getComputedStyle(document.body, null);
        var w1 = parseInt(s.width);
        w1 = Math.round(w1);
        var h1 = parseInt(s.height);
        h1 = Math.round(h1 / 4);
        
        var dpi = window.devicePixelRatio;//获取屏幕分辨率
        var option = {"is_follow_web_roll": "true", "isInvalidateChild":"true"};
        uexIconList.setOption(JSON.stringify(option));
        var x = document.getElementById("x").value;
        var y = document.getElementById("y").value;
        var w = document.getElementById("w").value;
        var h = document.getElementById("h").value;
        var line = document.getElementById("line").value;
        var row = document.getElementById("row").value;
        
        var params = {};
        params.x = x;
        params.y = y;
        params.w = w1; 
        params.h = w1 * 0.62;
        params.line = line;
        params.row = row;
        params.backgroundColor = "#FEFEFE";
        params.titleTextColor = "#9C9C9C";
        params.isShowIconFrame = false;
        params.iconFrameColor = "#00ff00";
        
        uexIconList.open(JSON.stringify(params),JSON.stringify(iconListItems));
    }
	
	function refreshIconList()
	{
	    var items = 
        {
            "listItem":[
                     {
                     "iconId": "数据1车",
                     "image": "http://i3.sinaimg.cn/dy/pl/2015-04-16/U6161P1T1D31723340F21DT20150416080804.jpg",
                     "title": "数据1车",
                     "isCanDel":"false"
                     },
                     {
                     "iconId": "数据2人",
                     "image": "http://g.hiphotos.baidu.com/news/crop%3D225%2C71%2C414%2C248%3Bw%3D638/sign=6421f9736e63f62408126343ba76d9cd/aa18972bd40735fa70f33cf39b510fb30f24087c.jpg",
                     "title": "数据2人",
                     "isCanMove":"false"
                     },
                     {
                     "iconId": "数据3斧子",
                     "image": "http://i3.sinaimg.cn/dy/pl/2015-04-16/U6161P1T1D31723288F21DT20150416074653.jpg",
                     "title": "数据3斧子"
                     },
                     {
                     "iconId": "数据4房",
                     "image": "http://a4.att.hudong.com/06/63/01300001216886130487639263274.jpg",
                     "title": "数据4房"
                     },
                     {
                     "iconId": "数据5",
                     "image": "http://i3.sinaimg.cn/blog/2014/1029/S129809T1414550868715.jpg",
                     "title": "数据5"
                     },
                     {
                     "iconId": "数据6",
                     "image": "http://images.china.cn/images1/ch/2014jb/21.jpg",
                     "title": "数据6"
                     },
                     {
                     "iconId": "数据7",
                     "image": "http://n.sinaimg.cn/transform/20150907/0JY5-fxhqtsx3573757.jpg",
                     "title": "数据7"
                     },
                     {
                     "iconId": "数据8",
                     "image": "res://icon.png",
                     "title": "数据8"
                     },
                     {
                     "iconId": "数据9",
                     "image": "res://icon.png",
                     "title": "数据9"
                     },
                     {
                     "iconId": "数据10",
                     "image": "res://icon.png",
                     "title": "数据10"
                     },
                     {
                     "iconId": "数据11",
                     "image": "res://icon.png",
                     "title": "数据11"
                     },
                     {
                     "iconId": "数据12",
                     "image": "res://icon.png",
                     "title": "数据12"
                     },
                     {
                     "iconId": "数据13",
                     "image": "res://icon.png",
                     "title": "数据13"
                     },
                     {
                     "iconId": "数据14",
                     "image": "res://icon.png",
                     "title": "数据14"
                     },
                     {
                     "iconId": "数据15",
                     "image": "res://icon.png",
                     "title": "数据15"
                     },
                     {
                     "iconId": "数据16",
                     "image": "res://icon.png",
                     "title": "数据16"
                     },
                    /* {
                     "iconId": "数据17",
                     "image": "res://icon.png",
                     "title": "数据17",
                     "isCanMove":"false"
                     },*/
                     {
                     "iconId": "数据19",
                     "image": "res://icon.png",
                     "title": "数据19"
                     }
                     ]};
	   uexIconList.refreshIconList(JSON.stringify(iconListItems1));

	}
	
	function closeIconList()
	{
	   uexIconList.close();
	}
	
	function addIconItem()
	{
	
	   var icon = {
                     "iconId": "数据19",
                     "image": "res://icon.png",
                     "title": "数据19"
                  };
       uexIconList.addIconItem(JSON.stringify(icon));
      // reload1Line();
      // uexIconList.refreshIconList(JSON.stringify(items));
	}
	
</script>
</head>

<body id = "body_id">

	<div class="tit">uexIconList对象</div>
	<div class="conbor">
		<div class="consj">
			
			<span>1.open接口</span>
			<span>x:</span>
			<input class="textbox" type="number" id="x" value="0">
			<span>y:</span>
			<input class="textbox" type="number" id="y" value="200">
            <span>width:</span>
            <input class="textbox" type="text" id="w" value="fill_screen">
            <span>height:</span>
            <input class="textbox" type="number" id="h" value="600">
            <span>行:</span>
            <input class="textbox" type="number" id="line" value="2">
            <span>列:</span>
            <input class="textbox" type="number" id="row" value="4">
            <input class="btn" type="button" value="打开" onclick="openIconList();"><br>
            <input class="btn" type="button" value="打开(无边框)" onclick="openIconListNoFrame();"><br>
            <input class="btn" type="button" value="打开（1行）" onclick="openIconList1Line();"><br>
		
		    <span>2.addIconItem接口</span><input class="btn" type="button" value="添加" onclick="addIconItem();"><br><br>
            <span>3.refreshIconList接口</span><input class="btn" type="button" value="刷新" onclick="refreshIconList();"><br><br>
            <span>4.close接口</span><input class="btn" type="button" value="关闭" onclick="closeIconList();"><br><br>
            <span>5.reload接口(1行)</span><input class="btn" type="button" value="reload" onclick="reload1Line();"><br><br>
            <span>6.reload接口(2行)</span><input class="btn" type="button" value="reload" onclick="reload2Line();"><br><br>
            <span>7.获取当前数据</span><input class="btn" type="button" value="确定" onclick="uexIconList.getCurrentIconList();"><br><br>
        
		</div>
	</div>
</body>
</html>
